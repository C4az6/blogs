<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    /* 
    JS语言的传统方法是通过构造函数，定义并生成新对象，是一种基于原型的面向对象系统。
    这种写法跟传统的面向对象语言（C++/Java）差异很大，很容易让新学习这门语言的人感到困惑。所以，在ES6中新增加了类的概念，
    可以使用class 关键字声明一个类，之后以这个类来实例化对象。
    注意：ES5是没有类的概念的。
     */

    // const Miaov = function (a, b) {
    //   this.a = a;
    //   this.b = b;
    //   return this;
    // };
    // Miaov.prototype = {
    //   constructor: Miaov,
    //   print: function () {
    //     console.log(this.a + ' ' + this.b);
    //   }
    // };

    // const miaov = new Miaov('hello world').print();

    // ES6中创建对象
    class Miaov {
      constructor(a, b) {
        this.a = a;
        this.b = b;
        return this;
      }
      print() {
        console.log(this.a + '' + this.b);
      }
    };

    const miaov = new Miaov('hello', 'world').print();
    console.log(typeof Miaov); // function

    /* 
      1. Miaov中的constructor方法是构造方法，this关键字则代表实例对象。也就是说，ES5的构造函数Miaov，对应ES6的Miaov这个类的构造方法。

      2. Miaov这个类除了构造方法，还定义了一个print方法。注意，定义‘类’的方法的时候，前面不需要加上function这个关键字，直接把函数定义放进去就可以了。
      另外，方法之间不需要加逗号分隔，加了会报错。
    
      3. 构造函数的prototype属性，在ES6的‘类’上面继续存在。而且类的所有方法都定义在类的prototype属性上面。
      换句话说就是打印Miaov的prototype属性就可以看到类中的所有方法。
      疑问：
        1.prototype是什么？有什么用？
        2.面向对象中的原型和原型链到底是怎么回事？
        3.面向对象中的类是什么意思？
        4.ES5和ES6实现面向对象的语法差异是什么？
        5.到底什么是闭包？闭包和沙箱函数的区别是什么？
        6.高阶函数又是什么？
      
      为了解决上面疑惑，现在开始我要快速复习一下JS的面向对象知识。复习一遍之后再回头来看这些问题。


      4. 定义在类中的方式都是不可以枚举的。

      5. constructor 方法是类的默认方法，通过new命令生成对象实例的时候，自动调用该方法。一个类必须有constructor方法，如果没有手动定义，JS也会自动添加constructor方法。
      也就是你如果不传参的情况下，写不写constructor都可以。

      6. 生成类的实例对象的写法，与ES5完全一样，也是使用new吗，命令。如果忘记加上new，想函数那样调用Class就会报错。
     */

    console.log(Miaov.prototype)

    console.log(Object.keys(Miaov.prototype)) // []


    class P {};
    const p = new P();
    console.log("实例p: ", p);


    p(); // 报错 p is not a function
  </script>
</body>

</html>