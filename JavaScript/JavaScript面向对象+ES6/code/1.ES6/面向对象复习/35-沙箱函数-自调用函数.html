<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    /* 
      JS中，一个函数就是一个独立的作用域。
        在函数内创建的变量叫做局部变量，只能在函数内使用。
        函数局部变量主要包括：
          1. 函数的形参
          2. 函数内创建的变量
          3. 函数内创建的函数
        沙箱函数主要作用：避免变量名称冲突。
        jQuery 也怕变量冲突，所以作者把所有 jQuery 代码写到沙箱函数内。
    */

    // 1. 函数的形参
    ;(function (str) {
      // 2. 函数内创建的变量
      var num = 1;

      // 3. 函数内创建的函数
      function fn1() {
        console.log("函数被调用了");
      }

      // 输出函数形参
      console.log(str);

      // 输出函数内创建的变量
      console.log(num);
      // 调用函数内的函数
      fn1();


      // 把局部变量挂载到 window 对象上，可以把局部变量变成 全局变量
      window.num = num;
    })(window);

    // 由于 函数内 把 num设 置成全局变量，所以在沙箱外也能访问到数据
    console.log("沙箱外：", num);
  </script>
</body>

</html>