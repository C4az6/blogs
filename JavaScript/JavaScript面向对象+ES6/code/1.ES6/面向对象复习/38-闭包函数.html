<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    /* 
          闭包函数特征：
      1. 函数套着另一个函数
      2. 外函数创建局部变量
      3. 里函数使用到外函数的局部变量
      4. 里函数能被调用到
    
    */

    debugger;

    function fn1() {
      console.log("执行了外层函数 fn1");
      // 外层函数创建局部变量
      var num = 1; // 创建过程只执行了一次
      function fn2() {
        console.log("执行了里层函数 fn2");
        // 里层函数使用到外层函数的局部变量
        console.log("里层函数使用外层函数局部变量num: ", num);
        num++;
      }
      // 返回了里层函数，外面接收调用
      return fn2;
    }

    // 先调用外层函数，把里层函数作为返回值，返回到函数外部
    var res = fn1();
    // 调用了里层函数
    res();
    res();
    res();

    // 闭包价值：可以在函数外面操作局部变量。
  </script>

</body>

</html>