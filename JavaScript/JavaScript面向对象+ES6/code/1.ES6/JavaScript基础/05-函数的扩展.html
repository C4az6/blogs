<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    /* 
      函数的扩展知识：
        1. 为函数参数指定默认值
        2. 函数rest参数
        3. 箭头函数
     */


    // function fn(a, b) {
    //   a = a || 10;   // es5中函数默认参数写法
    //   b = b || 20;
    //   console.log(a+b);
    // }

    // fn(0, 10);  // 20 因为a传的是0，转换布尔类型之后就是false

    // function fn(a = 10, b = 20) {   // es6的函数默认参数写法
    //   console.log(a+b);
    // }
    // fn()   // 30
    // fn(0, 10);   // 10

    /* 
      rest 形参形式为("...变量名"),用于获取函数的多余参数，这样就不需要使用arguments对象了。
      rest参数搭配的变量是一个数组，该变量将多余的参数放入数组中
     */

    // function sum() {
    //   // console.log(this)
    //   console.log("arguments: ", arguments);
    //   console.log(Array.isArray(arguments));    // false
    //   var args = arguments;
    //   var res = 0;
    //   for (var i = 0; i < args.length; i++) {
    //     res += args[i];
    //   }
    //   console.log(res)
    // }

    // sum(1, 2, 3, 4, 5);

    // function sum(a, ...arr) {   // rest参数后面不能再写参数
    //   console.log("arr： ", arr);
    //   var res = a;
    //   console.log("res: ", res);
    //   for(var i=0; i<arr.length; i++) {
    //     res += arr[i];
    //   }
    //   console.log(res);
    // }
    
    // sum(10,1,2,3,4,5);    // 10后面的参数都可以在函数的形参arr中拿到，rest参数与arguments区别在于前者是数组，后者是伪数组，没有数组的方法！！!


    /* 使用 "箭头" 定义函数 */
    // const fn = a => a;
    // const fn2 = function(a) {
    //   return a;
    // }

    // console.log(fn(1));   // 1
    // console.log(fn2(2));  // 2


    /* 
      1 箭头函数体内没有自己的this对象！！！所以在使用过的时候，其内部的this就是定义时所在环境的对象，而不是使用时所在环境的对象。
     */
    // function fn() {
    //   console.log(this)
    //   setTimeout(function() {
    //     console.log(this);
    //   }, 1000);

    //   setTimeout(()=>{
    //     console.log(this);
    //   }, 2000);
    // }

    // // 箭头函数里面根本没有自己的this，而是引用外层的this！！！
    // 由于箭头函数没有自己的this，所以当然也就不能用call()、apply()、bind()这些方法去改变this的指向。
    // fn();
    // var obj = {a: 1};
    // fn.call(obj);   

    // 2 箭头函数体内没有arguments对象，指向的是外层函数的arguments对象，如果要用，可用Rest参数代替。
    // const fn = ()=>console.log("arguments: ", arguments);   // arguments is not defined
    // console.log(fn(1,2,3,4));

    // const fn = (...arr) => arr;
    // console.log(fn(1,2,3,4));

    // 3 不可以当作构造函数，不可以使用new命令，否则会抛出一个错误。
    // const Fn = (a, b)=>a+b;
    // const f = new Fn(1,2);    // Fn is not a constructor

    // 4 箭头函数不能用作Generator函数，后续学习
  </script>
</body>

</html>